<div class="svg-container">
    <svg viewBox="0 0 980 320" width="980" height="320" role="img" aria-label="NMS 去重示意：按分数选择并抑制重叠框" class="max-w-full h-auto">
        <defs>
            <linearGradient id="nmsGrad" x1="0" x2="1" y1="0" y2="0">
                <stop offset="0%" stop-color="#0f766e" stop-opacity="0.16"></stop>
                <stop offset="100%" stop-color="#0f766e" stop-opacity="0.06"></stop>
            </linearGradient>
            <filter id="nmsShadow" x="-20%" y="-20%" width="140%" height="140%">
                <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="#0c4a46" flood-opacity="0.12"></feDropShadow>
            </filter>
            <marker id="nmsArrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#0f766e"></path>
            </marker>
        </defs>

        <rect x="22" y="22" width="936" height="276" rx="26" fill="url(#nmsGrad)"></rect>

        <g font-family="Noto Sans SC, Noto Sans, sans-serif" filter="url(#nmsShadow)">
            <rect x="62" y="64" width="270" height="196" rx="20" fill="#ffffff" stroke="#0f766e" stroke-opacity="0.32"></rect>
            <text x="197" y="98" text-anchor="middle" font-size="16" fill="#1e2932" font-weight="700">候选框（同一目标附近）</text>

            <g transform="translate(86,120)">
                <rect x="14" y="10" width="160" height="110" fill="none" stroke="#0f766e" stroke-width="3"></rect>
                <rect x="42" y="26" width="160" height="110" fill="none" stroke="#f97316" stroke-width="3" opacity="0.95"></rect>
                <rect x="28" y="44" width="160" height="110" fill="none" stroke="#0f766e" stroke-width="3" opacity="0.5" stroke-dasharray="6 6"></rect>
                <text x="20" y="170" font-size="12" fill="#5f6b6a">分数：0.92（保留）</text>
                <text x="20" y="190" font-size="12" fill="#5f6b6a">分数：0.84（抑制）</text>
            </g>

            <rect x="372" y="64" width="270" height="196" rx="20" fill="#ffffff" stroke="#0f766e" stroke-opacity="0.32"></rect>
            <text x="507" y="98" text-anchor="middle" font-size="16" fill="#1e2932" font-weight="700">按分数排序</text>
            <g transform="translate(404,116)" font-size="12" fill="#1e2932">
                <rect x="0" y="0" width="206" height="34" rx="12" fill="#0f766e" fill-opacity="0.12" stroke="#0f766e" stroke-opacity="0.25"></rect>
                <text x="14" y="22">1) score 0.92</text>
                <rect x="0" y="52" width="206" height="34" rx="12" fill="#f97316" fill-opacity="0.10" stroke="#f97316" stroke-opacity="0.25"></rect>
                <text x="14" y="74">2) score 0.84</text>
                <rect x="0" y="104" width="206" height="34" rx="12" fill="#0f766e" fill-opacity="0.06" stroke="#0f766e" stroke-opacity="0.20"></rect>
                <text x="14" y="126">3) score 0.61</text>
            </g>

            <rect x="682" y="64" width="250" height="196" rx="20" fill="#ffffff" stroke="#0f766e" stroke-opacity="0.32"></rect>
            <text x="807" y="98" text-anchor="middle" font-size="16" fill="#1e2932" font-weight="700">逐个选择 + 抑制</text>
            <g transform="translate(706,126)" font-size="12" fill="#5f6b6a">
                <text x="0" y="0" font-size="12" fill="#1e2932">取最高分框作为输出</text>
                <text x="0" y="28">删除与它 IoU &gt; τ 的框</text>
                <text x="0" y="56">继续处理剩余框</text>
                <rect x="0" y="78" width="202" height="74" rx="16" fill="#0f766e" fill-opacity="0.08" stroke="#0f766e" stroke-opacity="0.25"></rect>
                <text x="16" y="110" fill="#1e2932" font-weight="700">输出：少而准</text>
                <text x="16" y="134">每个目标 1~2 个框</text>
            </g>
        </g>

        <g stroke="#0f766e" stroke-width="2.2" fill="none" marker-end="url(#nmsArrow)">
            <path d="M 332 162 L 372 162"></path>
            <path d="M 642 162 L 682 162"></path>
        </g>

        <g font-family="Noto Sans SC, Noto Sans, sans-serif">
            <text x="490" y="286" text-anchor="middle" font-size="12" fill="#5f6b6a">
                NMS 本质是一个贪心过程：用重叠阈值 τ 把“重复框”消掉
            </text>
        </g>
    </svg>
</div>

